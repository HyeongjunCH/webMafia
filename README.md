목표 : 스마트폰을 가진 여러 사용자가 웹(인터넷 주소)에 들어가
특별한 앱 다운로드 없이 마피아 게임을 할 수 있는 구조를 개발.
(여러 사람이 모였을 때 하는 오프라인 마피아 게임을 보조하는 역할)

사용할 언어 : c#

<사용자 흐름 & 방 구조>
참가자 모바일 화면 + 사회자(관리자) 모바일
참가 플로우: 방코드/QR → 닉네임 → 준비 → 사회자 시작

<권한>
서버 권위(서버만이 직업·행동의 진실을 보유), 클라이언트는 최소 정보만
로그 비공개 범위(직업·밤 행동은 끝난 뒤에만 요약 공개)

<게임 상태 머신>
States: 대기실 → 직업배정 → 밤 → 아침 발표 → 토론 → 투표 → 처형/무효 → 승리검사 → 다음 밤/종료

타이머: 밤/토론/투표 카운트다운, 사회자 강제 스킵/연장 버튼

엣지케이스: 동표, 사망자/침묵자 표, 타임아웃, 최소 인원 미달

<역할 시스템(확장 가능 설계)>
Role 인터페이스: name, team, priority(해결 순서), nightAction(schema), winCondition
직업 추가 방식: JSON/스크립트로 정의 → 서버가 검증·적용(플러그인 구조)
팀/승리조건: 마피아·시민·제3세력(중립/광인 등)까지 열어두기

<밤 행동·우선순위 해결 규칙(분쟁 처리)>
예시 우선순위: 차단(침묵/블록) → 보호(의사) → 조사(경찰) → 살해(마피아/암살자) → 정보공개
충돌 규칙: 보호 성공/실패 판정, 다중 타깃, 자기대상, 사망 순서, 중첩 보호
로그: 서버 내부용 상세 로그 + 공개용 요약 로그 2트랙

<화면 설계(핵심 화면 와이어프레임 수준 명시)>
사회자 콘솔: 타이머/단계 전환, 인원·직업 수 설정, 강제처리, 로그 미리보기
플레이어 뷰: 현재 단계, 비밀 역할 카드, 밤 행동 입력 UI, 투표 UI, 타이머, 아침 발표

<룰세트/설정 프리셋>
기본(경찰/의사/마피아 n) 프리셋 + 확장(연인, 바디가드, 연쇄자살 등)
단계별 시간, 공개 정보 범위, 투표 방식, 승리조건 커스터마이즈

<접근성>
모바일 우선, 가독성 큰 버튼, 한국어만 지원

<성능/규모>
방 당 동시접속(최대 15명)
